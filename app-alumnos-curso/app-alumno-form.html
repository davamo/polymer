<link rel="import" href="./app-alumno-form-notas.html">
<link rel="import" href="./my-style.html">

<dom-module id='app-alumno-form'>
    <template>
        <style include='my-style'></style>
        <template is='dom-if' if=[[alumno]]>
            <div id='alumno-form'>
                <p> Nombre : <input value='{{alumno.nombre::input}}' name='nombre' id='nombre'></input></p>
                <p> Apellidos : <input value='{{alumno.apellido::input}}' name='apellido' id='apellido'></input></p> 
                <p> Imagen : <input value='{{alumno.image::input}}' name='image' id='image'></input></p>
                <p><button class="btn btn-primary" on-tap='_addAlumno'>Grabar</button>
                <button class="btn btn-primary" on-tap='_resetAlumno'>Reset</button></p>
                <br>
                <p>
                <app-alumno-form-notas></app-alumno-form-notas>
            </div>
        </template>        
    </template>
  <script> 
    Polymer({
        is: 'app-alumno-form',
        properties:{
            alumno: {
                type: Object,
                value: null
            }
        },
        listeners: {
            'add_notas':'_addNotas',
        },
        _addNotas: function(e){
            this.notas = e.detail;
        },
        _addAlumno: function(){
            this.fire('save-alumno-form', { alumno: this.alumno });
        },
        _resetAlumno: function(){
            this.alumno=null;
        },
        _calculaPromedio: function(notas){
            var total = 0;
            for(i=0; i < notas.length; i++){
                total += parsetInt(notas[i], nota);
            }
            total = total/notas.length;
            return total.toFixed(2);
        }
    });
  </script>
</dom-module>