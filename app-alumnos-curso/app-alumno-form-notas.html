<dom-module id="app-alumno-form-notas">
    <template>
        <style include='my-style'>
            .clear {
                clear: both;
            }
        </style>
        <template is='dom-repeat' items='{{notas}}' as='nota'>
           <p> 
            Nota : <input type='number' value='{{nota.value::input}}' id='nota' name='nota' min='0' max='10' step='0.1' class$='[[_computedValue(nota.Value)]]'></input>
           </p>
        </template>    
        <button class="btn btn-primary" on-tap='_addNewNota'>+</button>
        <div class='clear'></div>
    </template>

  <script> 
    Polymer({
        is: 'app-alumno-form-notas',
        properties:{
            notas:{
                type: Array,
                value: []
            },
            nota:{
                type: String,
                value: ''
            },
        },
        _addNewNota: function(){
            this.push('notas', {});
        },
        _computedValue(notaValue){
            return notaValue == null ? 'emtty value' : this.isValidNota(notaValue) ? 'value' : 'invalid value';
        },
        isValidNota(notaValue){
            let notaNumber = Number(notaValue);
            return typeof notaNumber == 'number' && !number.isNaN(notaNumber) && notanumber <= 10 && notaNUmber >= 0;
        }
    });
  </script>
</dom-module>