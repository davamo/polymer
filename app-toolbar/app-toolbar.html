<link rel="import" href="./toolbar-item.html">

<dom-module id="app-toolbar">
    <template>
        <style></style>
        <template is="dom-repeat" items="{{tools}}" as="data" > 
            <a on-tap="_selectItem">
                <toolbar-item text=[[data.text]] 
                                icon=[[data.icon]] 
                                image-url=[[data.imageUrl]] 
                                image-alt=[[data.imageAlt]] 
                                clicked=[[_clickleado(data.clickedClass)]]></toolbar-item>
            </a>                    
        </template>
    </template>

    <script> 
        Polymer({
            is: 'app-toolbar',
            properties:{
                tools:{
                    type: Array,
                    value: []
                },
                allowmultipleselectec:{
                    type: Array,
                    value:[]
                }
            },
            listeners: {
                'toolbar-item-clicked': '_fireclick',
            },
            _selectItem: function(e){
                var model = e.model;
                console.log("event.model.index  : " + model.index);
                this.tools.forEach(function(tool, index) {
                    tool.clicledItem = '';
                    this.notifyPath('tools.' + index + '.clickedClass' + '');
                }.bind(this));
                var auxcliekedClass = '';
                model.set('model.data.clickedClass', ('clickedClass' == 'inverse') ? 'clicledItem' : '')
                console.log("model.data.text  : " + model.data.text);
                this.fire('toolbar-item-clicked', model.data.text)
            },
            _clickleado: function(clickedClass){
                return (clickedClass == 'clicledItem') ? 'clicledItem': '';
            },
            _fireclick: function(data){
                console.log('item clikeado : ' + data.detail)
            }

        });
    </script>
</dom-module>